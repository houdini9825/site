function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},s=n.parcelRequire1ecf;null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},n.parcelRequire1ecf=s),s.register("27Lyk",(function(t,n){var r,i;e(t.exports,"register",(()=>r),(e=>r=e)),e(t.exports,"resolve",(()=>i),(e=>i=e));var s={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)s[t[n]]=e[t[n]]},i=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s("27Lyk").register(JSON.parse('{"4On0w":"index.64a891d7.js","1jMWw":"icon-x.4cde2696.svg","9ihNX":"icon-o.b2d6f941.svg","9nK21":"icon-x-outline.c3c82311.svg","h7HgB":"icon-o-outline.513aa494.svg"}'));var o;o=new URL(s("27Lyk").resolve("1jMWw"),import.meta.url).toString();var a;a=new URL(s("27Lyk").resolve("9ihNX"),import.meta.url).toString();var c=new class{#e=document.querySelector(".pop-up-container");#t=t(o);#n=t(a);addHandlerPopup(e){this.#e.addEventListener("click",e)}showPopup(){this.#e.classList.remove("hidden")}hidePopup(){this.#e.classList.add("hidden")}renderWinPopup(e){const t="You"===e.id?"You won!":"Oh no, you lost.",n="x"===e.char?"dark-green":"dark-orange",r=`<p class="game-complete-msg">${t}</p>\n    <div class="takes-round-container">\n      <img src="${"x"===e.char?this.#t:this.#n}" alt="">\n      <p class="${n}">Takes the round</p>\n    </div>\n    <div class="popup-buttons-container">\n      <button class="popup-btn quit-btn">\n        Quit\n      </button>\n      <button class="popup-btn next-round-btn">\n        Next Round\n      </button>\n    </div>`;this.#r(r)}renderTiePopup(){this.#r('<p class="tied-restart-msg">Round Tied</p>\n    <div class="popup-buttons-container">\n      <button class="popup-btn quit-btn">\n        Quit\n      </button>\n      <button class="popup-btn next-round-btn">\n        Next Round\n      </button>\n    </div>')}renderRestartPopup(){this.#r('<p class="tied-restart-msg">Restart Game?</p>\n    <div class="popup-buttons-container">\n      <button class="popup-btn cancel-btn">\n        No, cancel\n      </button>\n      <button class="popup-btn restart-btn">\n        Yes, restart\n      </button>\n    </div>')}#r(e){this.#e.innerHTML=e}};var l=new class{#i=document.querySelector(".active-reset-button");#s=document.querySelector(".active-turn-notifier");#o={x:t(o),o:t(a)};setCurrentTurnImg(e){this.#s.innerHTML="";const t=`\n    <img class="current-turn-image" src="${this.#o[e.char]}" />\n    <p>Turn</p>`;this.#s.insertAdjacentHTML("afterbegin",t)}addHandlerRefreshBtn(e){this.#i.addEventListener("click",e)}};function u(){c.renderRestartPopup(),c.showPopup()}var d,h=new class{#a=document.querySelectorAll(".score-container");#c(e){return document.querySelector(`.active-${e}-score-container`)}setLabel(e){this.#c(e.char).querySelector(`.active-${e.char}-score-label`).textContent=`${e.id} (${e.char.toUpperCase()})`}changeScore(e){this.#c(e.char).querySelector(`.active-${e.char}-score`).textContent=e.score}resetAllScores(){this.#a.forEach((e=>{e.querySelector(".score-number").textContent="0"}))}};d=new URL(s("27Lyk").resolve("9nK21"),import.meta.url).toString();var f;f=new URL(s("27Lyk").resolve("h7HgB"),import.meta.url).toString();var g=new class{#l=[...document.querySelectorAll(".active-game-tile")];#u=document.querySelector(".active-game-container");#d={x:t(o),o:t(a)};#h={x:t(d),o:t(f)};addCharToTile(e,t){const n=`<img src="${this.#d[t]}"/>`;e.classList.add("selected-tile"),e.innerHTML=n}hideGame(){this.#u.classList.add("hidden")}showGame(){this.#u.classList.remove("hidden")}clearAllTiles(){this.#l.forEach((e=>{e.innerHTML="",e.classList.remove("selected-tile")}))}getTile(e){return this.#l.find((t=>Number(t.id.slice(-1))===e))}clearSingleTile(e){e.innerHTML=""}addHandlerTileClick(e){this.#u.addEventListener("click",e)}addHandlerTileHover(e){this.#u.addEventListener("mouseover",e)}addHandlerTileHoverRemoval(e,t){e.removeEventListener("mouseleave",t),e.addEventListener("mouseleave",t)}hoverTile(e,t){const n=`<img src="${this.#h[t]}" />`;e.innerHTML=n}removeTileFocus(e){e.innerHTML=""}};var m=new class{#f=document.querySelector(".pick-container");#g=[...this.#f.querySelectorAll("button")];#m=document.querySelector(".menu-container");#p=document.querySelector(".difficulty-container");addHandlerNewGame(e){this.#m.addEventListener("click",e)}addHandlerChangeChar(e){this.#f.addEventListener("click",e)}addHandlerSelectDifficulty(e){this.#p.addEventListener("click",e)}addHandlerCloseErrorMessage(e){document.querySelector(".error-message").addEventListener("click",e)}clearMenuCharSelection(){this.#g.forEach((e=>e.id=""))}clearDifficulties(){document.querySelectorAll(".difficulty-choice").forEach((e=>e.classList.remove("selected-difficulty")))}getDifficulty(){return[...document.querySelectorAll(".difficulty-choice")].find((e=>e.classList.contains("selected-difficulty"))).dataset.val}checkIfDifficultySelected(){return[...document.querySelectorAll(".difficulty-choice")].find((e=>e.classList.contains("selected-difficulty")))}checkIfCharSelected(){return this.#g.find((e=>"char-button-active"===e.id))}showErrorMessage(){document.querySelector(".error-message").classList.remove("hidden")}closeErrorMessage(){document.querySelector(".error-message").classList.add("hidden")}hideMenu(){this.#m.classList.add("hidden")}showMenu(){this.#m.classList.remove("hidden")}getSelection(){return this.#g.find((e=>"char-button-active"===e.id)).dataset.val}changeCharChoice(e){this.clearMenuCharSelection(),e.id="char-button-active"}};class p{constructor(e,t){this.char=e,this.score=0,this.id=t,this.boardPositions=new Set}getInfo(){return{score:this.score,id:this.id,char:this.char}}resetScore(){this.score=0}increaseScore(){this.score++}makeMove(e){return this.boardPositions.add(e),e}}const v={1:[[2,3],[4,7],[5,9]],2:[[1,3],[5,8]],3:[[1,2],[5,7],[6,9]],4:[[1,7],[5,6]],5:[[1,9],[2,8],[3,7],[4,6]],6:[[3,9],[4,5]],7:[[1,4],[8,9],[3,5]],8:[[2,5],[7,9]],9:[[1,5],[3,6],[7,8]]},b=[1,3,7,9];class y extends p{constructor(e,t,n){super(e,t),this.difficulty=n.toLowerCase()}makeMove(e){let t;return"easy"===this.difficulty?t=this.#v(e):"medium"===this.difficulty?t=this.#b(e):"hard"===this.difficulty&&(t=this.#y(e)),this.boardPositions.add(t),t}#v(e){let t=Math.ceil(9*Math.random());for(;e.has(t);)t=Math.ceil(9*Math.random());return t}#b(e){const[t,n]=this.#C();return this.#k(t,n,e)}#k(e,t,n){if(1===e.size)return[...e][0];const r=this.#T(e);if(r)return r;const i=this.#S(e,t);return i||this.#v(n)}#C(e){const t=new Set,n=new Set;for(let r=1;r<=9;r++)e.has(r)?!this.boardPositions.has(r)&&e.has(r)&&n.add(r):t.add(r);return[t,n]}#T(e){let t;for(const n of e.values()){if(t)break;for(const e of v[n])if(this.boardPositions.has(e[0])&&this.boardPositions.has(e[1])){t=n;break}}return Number(t)}#S(e,t){let n;for(const r in v){if(n)break;for(const i of v[r])if(t.has(i[0])&&t.has(i[1])&&e.has(Number(r))){n=r;break}}return Number(n)}#y(e){const[t,n]=this.#C(e);return this.#M(t,n,e)}#M(e,t,n){const r=this.#T(e);if(r)return r;const i=this.#S(e,t);return i||(n.size?1===n.size?this.#L(t):2===n.size?this.#A(t):this.#v(n):5)}#L(e){return 5===[...e][0]?this.#I(b):5}#A(e){const t=[...e][0];return this.#I(b.filter((e=>e!==t)))}#I(e){return console.log("testing"),e[Math.floor(Math.random()*e.length)]}}let C;class k{constructor(e,t,n=!0){this.player1=e,this.player2=t,this.#w(),this.vsComputer=n,this.board=new Set,this.gameOn=!1,this.ties=0}#w(){this.currentActing="x"===this.player1.char?this.player1:this.player2}turnGameOff(){this.gameOn=!1}turnGameOn(){this.gameOn=!0}checkIfGameOn(){return this.gameOn}clearBoard(){this.board.clear();for(const e of[this.player1,this.player2])e.boardPositions.clear()}resetGame(){this.restartGame(),this.resetScores()}resetScores(){this.player1.resetScore(),this.player2.resetScore(),this.ties=0}restartGame(){this.clearBoard(),this.#w()}changeActing(){this.currentActing===this.player1?this.currentActing=this.player2:this.currentActing=this.player1}#H(){for(const e of[this.player1,this.player2])e.boardPositions.forEach((e=>this.board.add(e)))}checkIfWon(){const e=[[1,2,3],[1,4,7],[1,5,9],[2,5,8],[3,5,7],[3,6,9],[4,5,6],[7,8,9]];for(const t of e)if(t.every((e=>this.currentActing.boardPositions.has(e))))return this.currentActing.increaseScore(),!0;return!1}checkIfBoardFull(){return this.board.size>=9}playerMakeMove(e){this.currentActing.makeMove(e),this.#H()}computerMakeMove(){const e=this.currentActing.makeMove(this.board);return this.#H(),e}getCurrentActingInfo(){return this.currentActing.getInfo()}}function T(){setTimeout((function(){const e=C.computerMakeMove(),t=C.getCurrentActingInfo(),n=g.getTile(e);g.addCharToTile(n,t.char),M()||S(),L()}),750)}function S(){C.changeActing(),l.setCurrentTurnImg(C.getCurrentActingInfo())}function M(){if(C.checkIfWon()){const e=C.getCurrentActingInfo();return c.renderWinPopup(e),c.showPopup(),h.changeScore(e),C.turnGameOff(),!0}return!1}function L(){if(C.checkIfBoardFull()&&!C.checkIfWon()){C.ties++,c.renderTiePopup(),c.showPopup();const e={char:"tie",score:C.ties};h.changeScore(e)}}function A(e){const t=e.target.closest(".active-game-tile");t&&!t.classList.contains("selected-tile")&&"You"===C.currentActing.id&&(C.checkIfGameOn()&&!C.checkIfBoardFull()&&function(e){const t=C.getCurrentActingInfo(),n=Number(e.id.slice(-1));g.addCharToTile(e,t.char),C.playerMakeMove(n),M()||S(),L()}(t),C.checkIfGameOn()&&!C.checkIfBoardFull()&&T())}function I(e){e.preventDefault();const t=e.target.closest(".active-game-tile");if(!t||t.innerHTML||"CPU"===C.getCurrentActingInfo().id)return;const n=C.getCurrentActingInfo();g.hoverTile(t,n.char),g.addHandlerTileHoverRemoval(t,w)}function w(e){e.preventDefault();const t=e.target;t.classList.contains("selected-tile")||g.clearSingleTile(t)}function H(){"x"===C.player2.getInfo().char&&T()}function E(e){e.preventDefault();const t=e.target.closest(".popup-btn");t&&(t.classList.contains("quit-btn")?(C.turnGameOff(),C.resetGame(),g.hideGame(),m.showMenu(),m.clearDifficulties(),m.clearMenuCharSelection(),x(),h.resetAllScores()):t.classList.contains("next-round-btn")?(C.restartGame(),C.turnGameOn(),x(),H()):t.classList.contains("cancel-btn")?c.hidePopup():t.classList.contains("restart-btn")&&(C.turnGameOn(),C.resetGame(),x(),h.resetAllScores(),H()))}function x(){g.clearAllTiles(),C.clearBoard(),l.setCurrentTurnImg(C.getCurrentActingInfo()),c.hidePopup()}function O(e){e.preventDefault();if(e.target.closest(".new-game-btn")){if(!m.checkIfDifficultySelected()||!m.checkIfCharSelected())return m.showErrorMessage();console.log(m.getDifficulty()),function(e,t){const n="x"===e?"o":"x",r=new p(e,"You"),i=new y(n,"CPU",t);C=new k(r,i)}(m.getSelection(),m.getDifficulty()),l.setCurrentTurnImg(C.getCurrentActingInfo()),h.setLabel(C.player1.getInfo()),h.setLabel(C.player2.getInfo()),C.turnGameOn(),m.closeErrorMessage(),m.hideMenu(),g.showGame(),H()}}function P(e){e.preventDefault();const t=e.target.closest(".main-menu-char-btn");t&&m.changeCharChoice(t)}function G(e){e.preventDefault(),e.target.classList.contains("difficulty-choice")&&(m.clearDifficulties(),e.target.classList.add("selected-difficulty"))}function q(e){e.preventDefault(),e.target.closest(".close-error")&&m.closeErrorMessage()}l.addHandlerRefreshBtn(u),g.addHandlerTileHover(I),g.addHandlerTileClick(A),c.addHandlerPopup(E),m.addHandlerChangeChar(P),m.addHandlerNewGame(O),m.addHandlerSelectDifficulty(G),m.addHandlerCloseErrorMessage(q);
//# sourceMappingURL=index.64a891d7.js.map
